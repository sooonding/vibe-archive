# 제출물 채점 & 피드백 (Instructor)

## Primary Actor
- Instructor (강사)

## Precondition
- Instructor로 로그인된 상태
- 본인이 소유한 코스의 과제가 존재
- 학습자가 제출한 제출물이 존재

## Trigger
- Instructor가 제출물 목록에서 특정 제출물을 선택하여 채점 화면에 진입

## Main Scenario
1. Instructor가 채점 대기 중인 제출물 목록을 조회
2. 특정 제출물을 선택하여 상세 정보 확인 (학습자 정보, 제출 내용, 제출 시간, 지각 여부)
3. 점수를 입력 (0~100 범위)
4. 피드백을 작성 (필수)
5. (선택) 재제출 요청 버튼 클릭 시 제출물 상태를 `resubmission_required`로 설정
6. 저장 버튼 클릭
7. 시스템이 제출물 상태를 `graded`로 업데이트 (재제출 요청 시 제외)
8. 학습자에게 피드백 및 점수 전달
9. 채점 완료 메시지 표시

## Edge Cases
- **점수 범위 초과**: 0~100 범위를 벗어난 점수 입력 시 유효성 검증 실패 메시지 표시
- **피드백 미입력**: 피드백 필수 입력 누락 시 제출 차단 및 안내 메시지 표시
- **타인 코스 제출물 접근**: 본인 소유 코스의 제출물이 아닐 경우 접근 거부
- **이미 채점된 제출물**: 재채점 허용 여부에 따라 수정 가능/불가 처리
- **재제출 요청 중 점수 입력**: 재제출 요청 시 점수는 임시 저장되거나 입력 불가 처리

## Business Rules
- 점수는 0~100 정수 값만 허용
- 피드백은 필수 입력
- 점수 입력 시 제출물 상태를 `graded`로 변경
- 재제출 요청 시 제출물 상태를 `resubmission_required`로 변경
- 재제출 요청된 제출물은 학습자 대시보드에 재제출 필요 상태로 표시
- 채점 완료된 제출물은 학습자의 성적 페이지에 즉시 반영
- Instructor는 본인이 소유한 코스의 제출물만 채점 가능
