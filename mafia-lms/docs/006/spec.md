# Use Case 006: 성적 & 피드백 열람 (Learner)

## Primary Actor
- Learner (학습자)

## Precondition
- 사용자가 Learner 역할로 로그인되어 있음
- 사용자가 하나 이상의 코스에 수강신청한 상태

## Trigger
- 사용자가 성적 페이지에 접근

## Main Scenario

### 1. 성적 페이지 접근
1. 사용자가 성적 페이지로 이동
2. 시스템은 사용자가 수강 중인 코스 목록을 조회
3. 각 코스별로 다음 정보를 표시:
   - 코스명
   - 과제 목록 (해당 코스의 모든 `published` 과제)

### 2. 과제별 성적 정보 표시
각 과제에 대해 다음 정보를 표시:
- 과제명
- 제출 상태:
  - 미제출: "미제출"
  - 제출 완료 (채점 대기): "채점 대기"
  - 채점 완료: "채점 완료"
  - 재제출 요청: "재제출 필요"
- 획득 점수 (채점 완료된 경우에만)
- 지각 여부 (`late=true`인 경우 지각 마크 표시)
- 재제출 여부 (재제출 이력이 있는 경우 표시)
- 강사 피드백 (채점 완료된 경우에만)

### 3. 코스 총점 계산 및 표시
1. 시스템은 각 코스별 총점을 계산:
   - 총점 = Σ(채점 완료된 과제 점수 × 과제 비중)
   - 채점되지 않은 과제는 총점 계산에서 제외
2. 코스 총점을 요약하여 표시

## Edge Cases

### 수강 중인 코스가 없는 경우
- **조건**: 사용자가 수강신청한 코스가 없음
- **처리**: "수강 중인 코스가 없습니다" 메시지 표시, 코스 카탈로그로 이동할 수 있는 링크 제공

### 코스에 과제가 없는 경우
- **조건**: 해당 코스에 `published` 상태 과제가 없음
- **처리**: "등록된 과제가 없습니다" 메시지 표시

### 제출 이력이 없는 과제
- **조건**: 아직 제출하지 않은 과제
- **처리**: 상태를 "미제출"로 표시, 점수 및 피드백 영역 비활성화

### 채점 대기 중인 과제
- **조건**: 제출 완료했으나 아직 채점되지 않은 과제 (`status=submitted`)
- **처리**: 상태를 "채점 대기"로 표시, 점수 및 피드백 영역에 "채점 중" 메시지 표시

### 재제출 요청된 과제
- **조건**: 강사가 재제출을 요청한 과제 (`status=resubmission_required`)
- **처리**: 상태를 "재제출 필요"로 표시, 강사 피드백과 함께 재제출 안내 메시지 표시, 과제 상세 페이지로 이동할 수 있는 링크 제공

## Business Rules

### BR-1: 접근 권한
- Learner는 본인이 제출한 과제의 성적과 피드백만 조회 가능
- 다른 Learner의 성적 정보는 조회 불가

### BR-2: 총점 계산
- 코스 총점 = Σ(채점 완료된 과제 점수 × 해당 과제 비중)
- 채점되지 않은 과제는 총점 계산에서 제외
- 재제출 요청된 과제는 현재 점수를 총점에 반영하되, 상태 표시는 "재제출 필요"로 유지

### BR-3: 피드백 표시
- 채점 완료된 과제 (`status=graded`)만 피드백 표시
- 피드백이 비어있는 경우에도 점수는 표시

### BR-4: 지각 표시
- `late=true`인 제출물은 지각 마크 표시
- 지각 제출도 정상 채점 대상 (감점은 강사 재량)

### BR-5: 상태별 표시 우선순위
1. 미제출
2. 채점 대기 (`status=submitted`)
3. 재제출 필요 (`status=resubmission_required`)
4. 채점 완료 (`status=graded`)

### BR-6: 과제 비중 표시
- 각 과제의 점수 비중(weight)을 함께 표시하여 총점 계산 근거 제공
